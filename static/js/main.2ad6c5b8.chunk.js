(this.webpackJsonpkensweeper=this.webpackJsonpkensweeper||[]).push([[0],{16:function(e,n,r){e.exports=r.p+"static/media/ken.9703d12e.jpg"},17:function(e,n,r){e.exports=r.p+"static/media/ken-sad.47dc8488.png"},18:function(e,n,r){e.exports=r.p+"static/media/ken-sunglasses.394aa9ea.png"},30:function(e,n,r){e.exports=r.p+"static/media/flag.41007bff.png"},31:function(e,n,r){e.exports=r.p+"static/media/mine.6a757fd3.png"},36:function(e,n,r){e.exports=r(48)},48:function(e,n,r){"use strict";r.r(n);var t=r(1),a=r.n(t),i=r(14),o=(r(9),r(4)),u=r(26);function c(){var e=Object(u.a)(["\n    align-self: center;\n    display: grid;\n    grid-area: board;\n    grid-gap: 0;\n    grid-template-columns: 7vh 7vh 7vh 7vh 7vh 7vh 7vh 7vh;\n    grid-template-rows: 7vh 7vh 7vh 7vh 7vh 7vh 7vh 7vh;\n    height: 63vh;\n    justify-self: center;\n    margin: auto;\n    width: 63vh;\n"]);return c=function(){return e},e}r(27).a.div(c());var l={boardSize:"small",numSquares:64,numMines:10,colSize:8,rowSize:8},s={boardSize:"medium",numSquares:144,numMines:24,colSize:12,rowSize:12},d={boardSize:"large",numSquares:256,numMines:48,colSize:16,rowSize:16},m={clickMine:function(e){return{type:"CLICK_MINE",payload:{index:e}}},clickSquare:function(e){return{type:"CLICK_SQUARE",payload:{index:e}}},flagSquare:function(e){return{type:"FLAG_SQUARE",payload:{index:e}}},setMines:function(e){return{type:"SET_MINES",payload:{mines:e}}},setBoardSize:function(e){return{type:"SET_BOARD_SIZE",payload:{board:e}}},setInitialTime:function(e){return{type:"SET_INITIAL_TIME",payload:{initialTime:e}}},setTime:function(e){return{type:"SET_TIME",payload:{time:e}}},setGameInProgress:function(e){return{type:"SET_GAME_IN_PROGRESS",payload:{isGameInProgress:e}}}},f=function(e){for(var n=[];n.length<e.numMines;){var r=Math.floor(Math.random()*e.numSquares);n.includes(r)||n.push(r)}return n},g=r(16),v=r.n(g),p=r(17),b=r.n(p),S=r(18),h=r.n(S),E=function(){var e=o.c,n=Object(o.b)(),r=e((function(e){return e})),i=r.moves,u=r.flaggedSquares,c=r.board,g=r.losingSquare,p=i.length+u.filter((function(e){return e})).length===c.numSquares,S=null!==g,E=Object(t.useRef)(null),y=Object(t.useRef)(null),O=Object(t.useRef)(null),_=Object(t.useRef)(null),I=function(e){if(E.current){var r=[l,s,d].find((function(n){return n.boardSize===e}));if(r){var t=f(r);n(m.setBoardSize(r)),n(m.setMines(t)),n(m.setTime(0)),n(m.setInitialTime(void 0)),n(m.setGameInProgress(!1))}E.current.classList.add("u-hide")}},j={backgroundImage:"url(".concat(p?h.a:S?b.a:v.a,")"),border:"none"};return a.a.createElement(t.Fragment,null,a.a.createElement("div",{className:"header__select"},a.a.createElement("div",{className:"header__button",style:j,onClick:function(){E.current&&y.current&&O.current&&_.current&&(E.current.classList.contains("u-hide")&&E.current.classList.remove("u-hide"))}}),a.a.createElement("div",{className:"header__options-outer"},a.a.createElement("div",{className:"header__options-inner u-hide",ref:E},a.a.createElement("div",{className:"header__option",ref:y,onClick:function(){return I("small")}},"Small"),a.a.createElement("div",{className:"header__option",ref:O,onClick:function(){return I("medium")}},"Medium"),a.a.createElement("div",{className:"header__option",ref:_,onClick:function(){return I("large")}},"Large")))))},y=function(){var e=(0,o.c)((function(e){return e})),n=e?e.mines:[],r=e?e.flaggedSquares:[],t=r&&r.filter((function(e){return e})),i=n&&n.length-t.length;return a.a.createElement("div",{className:"header__mines-counter"},i)},O=function(e,n,r){return(e>0?"".concat(e,":"):"")+(e>0?n<10?"0".concat(n,":"):"".concat(n,":"):n>0?"".concat(n,":"):"")+(n>0&&r<10?"0".concat(r):"".concat(r))},_=function(){var e=(0,o.c)((function(e){return e})),n=e.initialTime,r=e.moves,i=e.flaggedSquares,u=e.board,c=e.losingSquare,l=e.time,s=e.isGameInProgress,d=Object(o.b)(),f=r.length+i.filter((function(e){return e})).length===u.numSquares||null!==c,g=l?Math.floor(l/3600):0,v=l?Math.floor(l%3600/60):0,p=l?Math.floor(l%60):0,b=O(g,v,p);return function(e,n){var r=Object(t.useRef)(e);Object(t.useEffect)((function(){r.current=e}),[e]),Object(t.useEffect)((function(){if(null!==n){var e=setInterval((function(){r.current()}),n);return function(){return clearInterval(e)}}}),[n])}((function(){if(n){var e=(new Date).getTime()-n,r=Math.floor(e/1e3);d(m.setTime(r))}}),f||!s?null:100),a.a.createElement("div",{className:"header__timer"},b)},I=function(){var e=(0,o.c)((function(e){return e})),n=e?e.board:l;return a.a.createElement("div",{className:"header ".concat("small"===n.boardSize?"header--small":"medium"===n.boardSize?"header--medium":"header--large")},a.a.createElement(y,null),a.a.createElement(E,null),a.a.createElement(_,null))},j=function(e,n,r,t,a){return e&&0===t||a&&n||r},q=function(e,n,r,t){return e&&!n&&!r&&t&&t>0},T=function(e,n){if(n)return n.find((function(n,r){return r===e}))},k=function(e,n){if(n)return n.includes(e)},w=function(e,n){if(n)return n.includes(e)},M=function(e,n){if(void 0!==e){var r,t,a,i,o,u,c,l,s,d,m=e-1,f=e+1;return"small"===n?(r=e<8,t=e>56,a=e%8===0,i=(e+1)%8===0,o=e-9,u=e-8,c=e-7,l=e+7,s=e+8,d=e+9):"medium"===n?(r=e<12,t=e>132,a=e%12===0,i=(e+1)%12===0,o=e-13,u=e-12,c=e-11,l=e+11,s=e+12,d=e+13):"large"===n&&(r=e<16,t=e>240,a=e%16===0,i=(e+1)%16===0,o=e-17,u=e-16,c=e-15,l=e+15,s=e+16,d=e+17),r?a?[f,s,d]:i?[m,l,s]:[m,f,l,s,d]:t?a?[u,c,f]:i?[o,u,m]:[o,u,c,m,f]:a?[u,c,f,s,d]:i?[o,u,m,l,s]:[o,u,c,m,f,l,s,d]}},x=function(e,n,r){var t=M(e,r);if(n&&t)return t.filter((function(e){return void 0!==e&&n.includes(e)})).length},N=r(30),z=r.n(N),P=r(31),C=r.n(P),R=function(e){var n=e.index,r=e.boardSize,t=o.c,i=Object(o.b)(),u=t((function(e){return e})),c=u.mines,l=u.moves,s=u.flaggedSquares,d=u.board,f=u.losingSquare,g=k(n,c),p=f===n,S=T(n,s),E=w(n,l),y=x(n,c,r),O=q(E,g,S,y),_=j(E,g,S,y,f),I=l.length+s.filter((function(e){return e})).length===d.numSquares,M=null!==f,N=S?z.a:g?C.a:0===y&&I?h.a:0===y&&M?b.a:v.a;return a.a.createElement("div",{onClick:function(){if(!(I||M||S)){i(g?m.clickMine(n):m.clickSquare(n));var e=(new Date).getTime();i(m.setInitialTime(e)),i(m.setGameInProgress(!0))}},onContextMenu:function(e){return function(e){e.preventDefault(),E||i(m.flagSquare(n))}(e)},className:"square \n                ".concat(p?"square--losing":1===y?"u-color-magenta":2===y?"u-color-purple":3===y?"u-color-blue-dark":4===y?"u-color-green":5===y?"u-color-teal-dark":6===y?"u-color-teal-light":7===y?"u-color-pink-hot":8===y?"u-color-blue-light":"")},O?y:_?a.a.createElement("img",{src:N,className:"image--small"}):"")},G=function(){var e=Object(o.b)(),n=(0,o.c)((function(e){return e})),r=f(n.board),i=n.board,u=(n.flaggedSquares,n.losingSquare,n.moves,i.boardSize);return Object(t.useEffect)((function(){e(m.setMines(r)),e(m.setBoardSize(i))}),[i]),a.a.createElement("div",{className:"margins"},a.a.createElement(I,null),a.a.createElement("div",{className:"grid ".concat("small"===u?"grid--small":"medium"===u?"grid--medium":"grid--large")},a.a.createElement("div",{className:"board ".concat("small"===u?"board--small":"medium"===u?"board--medium":"board--large")},function(e){for(var n=[],r=0;r<e.numSquares;r++)n.push(a.a.createElement(R,{key:r,index:r,boardSize:e.boardSize}));return n}(i))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var A=r(10),L=r(23),D=r(32),B=function(e){for(var n=[],r=0;r<e;r++)n.push(!1);return n};function K(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function Q(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?K(r,!0).forEach((function(n){Object(D.a)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(r).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var U={losingSquare:null,mines:[],moves:[],flaggedSquares:B(64),board:l,initialTime:void 0,time:0,isGameInProgress:!1},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"CLICK_MINE":return Q({},e,{losingSquare:n.payload.index,moves:[].concat(Object(L.a)(e.moves.filter((function(n,r){return e.moves.indexOf(n)===r}))),[n.payload.index]).sort((function(e,n){return e&&n?e-n:0}))});case"CLICK_SQUARE":return Q({},e,{moves:[].concat(Object(L.a)(e.moves.filter((function(n,r){return e.moves.indexOf(n)===r}))),[n.payload.index]).sort((function(e,n){return e&&n?e-n:0}))});case"FLAG_SQUARE":return Q({},e,{flaggedSquares:e.flaggedSquares.map((function(e,r){return r===n.payload.index?!e:e}))});case"SET_MINES":return Q({},e,{mines:n.payload.mines});case"SET_BOARD_SIZE":return Q({},e,{losingSquare:null,moves:[],board:n.payload.board,flaggedSquares:n.payload.board.numSquares?B(n.payload.board.numSquares):e.flaggedSquares,time:0});case"SET_INITIAL_TIME":return Q({},e,{initialTime:void 0===n.payload.initialTime?n.payload.initialTime:e.initialTime?e.initialTime:n.payload.initialTime});case"SET_TIME":return Q({},e,{time:n.payload.time});case"SET_GAME_IN_PROGRESS":return Q({},e,{isGameInProgress:n.payload.isGameInProgress});default:return Q({},e)}},J=r(33),W=r(12),Z=r.n(W),$=r(13),H=Z.a.mark(X),V=Z.a.mark(Y);function X(e){var n,r,t,a,i,o,u,c,l,s;return Z.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Object($.c)();case 2:if(n=d.sent,r=n.mines,t=n.moves,a=n.board,i=e.payload.index,o=a.boardSize,u=x(i,r,o),c=M(i,o),!(u&&u>0)){d.next=12;break}return d.abrupt("return");case 12:if(!c){d.next=17;break}return l=c.filter((function(e){if(void 0!==e&&e<a.numSquares)return!w(e,t)})),s=l.map((function(e){if(void 0!==e)return Object($.b)(m.clickSquare(e))})),d.next=17,Object($.a)(s);case 17:case"end":return d.stop()}}),H)}function Y(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.d)("CLICK_SQUARE",X);case 2:case"end":return e.stop()}}),V)}var ee=Object(J.a)(),ne=function(){var e=Object(A.d)(F,Object(A.a)(ee));return ee.run(Y),e}();Object(i.render)(a.a.createElement(o.a,{store:ne},a.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,n,r){}},[[36,1,2]]]);
//# sourceMappingURL=main.2ad6c5b8.chunk.js.map